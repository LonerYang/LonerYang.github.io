<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Spring Boot学习04_CRUD总结 | Yang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="Yang,Yang's Blog">
  
  <meta name="description" content="本文仅仅是本人做了一个CRUD的demo用来总结知识点的。 一、Spring Boot的国际化比如下面这个页面需要进行中英文的切换，而且根据浏览器的语言进行不同的显示，这时候就要用到国际化技术。   1、在SpringMVC中做国际化1）、编写国际化配置文件 2）、使用ResourceBundleMessageSource管理国际化资源文件 （Spring Boot已经自动配置好） 在Messag">
<meta name="keywords" content="SpringBoot">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot学习04_CRUD总结">
<meta property="og:url" content="http://yoursite.com/2019/03/28/2019-03-28-SpringBoot学习04_例子总结/index.html">
<meta property="og:site_name" content="Yang">
<meta property="og:description" content="本文仅仅是本人做了一个CRUD的demo用来总结知识点的。 一、Spring Boot的国际化比如下面这个页面需要进行中英文的切换，而且根据浏览器的语言进行不同的显示，这时候就要用到国际化技术。   1、在SpringMVC中做国际化1）、编写国际化配置文件 2）、使用ResourceBundleMessageSource管理国际化资源文件 （Spring Boot已经自动配置好） 在Messag">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/AwbwFA.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/Awbyy8.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/Awbaod.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/Awb0JI.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/AwbrSP.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/AwbBWt.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/AwbTyT.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/AwbsQf.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/AwbRoj.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/Awb2wQ.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/Awbgeg.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/Awb7OU.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/Awb4Wq.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/05/21/VSPoSe.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/AwbIS0.jpg">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/28/AwbolV.jpg">
<meta property="og:updated_time" content="2019-05-21T08:25:53.961Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring Boot学习04_CRUD总结">
<meta name="twitter:description" content="本文仅仅是本人做了一个CRUD的demo用来总结知识点的。 一、Spring Boot的国际化比如下面这个页面需要进行中英文的切换，而且根据浏览器的语言进行不同的显示，这时候就要用到国际化技术。   1、在SpringMVC中做国际化1）、编写国际化配置文件 2）、使用ResourceBundleMessageSource管理国际化资源文件 （Spring Boot已经自动配置好） 在Messag">
<meta name="twitter:image" content="https://s2.ax1x.com/2019/03/28/AwbwFA.jpg">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>
</html>
<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">Yang&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        Yang&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        一个专注 Java 开发的技术博客
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="Yang" target="_blank" href="//yangrijian.top">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/loneryang">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="Weibo" target="_blank" href="//weibo.com/printf杨氏子">
                            <i class="fa fa-weibo fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-2019-03-28-SpringBoot学习04_例子总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      Spring Boot学习04_CRUD总结
    </h1>
    <div class="post-title-bar">
      <ul>
          
        <li>
          <i class="fa fa-calendar"></i>  2019-03-28
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <p><strong>本文仅仅是本人做了一个CRUD的demo用来总结知识点的。</strong></p>
<h2 id="一、Spring-Boot的国际化"><a href="#一、Spring-Boot的国际化" class="headerlink" title="一、Spring Boot的国际化"></a>一、Spring Boot的国际化</h2><p>比如下面这个页面需要进行中英文的切换，而且根据浏览器的语言进行不同的显示，这时候就要用到国际化技术。</p>
<p><img src="https://s2.ax1x.com/2019/03/28/AwbwFA.jpg" alt="AwbwFA.jpg"></p>
<hr>
<h3 id="1、在SpringMVC中做国际化"><a href="#1、在SpringMVC中做国际化" class="headerlink" title="1、在SpringMVC中做国际化"></a>1、在SpringMVC中做国际化</h3><p>1）、编写国际化配置文件</p>
<p>2）、使用ResourceBundleMessageSource管理国际化资源文件</p>
<p>（Spring Boot已经自动配置好）</p>
<p>在MessageSourceAutoConfiguration类中已经自动配置好</p>
<p><img src="https://s2.ax1x.com/2019/03/28/Awbyy8.jpg" alt="Awbyy8.jpg"></p>
<p>3）、在页面中使用fmt:message取出国际化内容</p>
<h3 id="2、SpringBoot做国际化"><a href="#2、SpringBoot做国际化" class="headerlink" title="2、SpringBoot做国际化"></a>2、SpringBoot做国际化</h3><p>2.1、所以在Spring Boot中只需要编写国际化配置文件，取出国际化内容使用Thymeleaf中的表达式。</p>
<p>2.2、国际化配置文件不在全局配置文件中修改的话，通过源码也可以发现默认使用的是基础名称(<strong>基础名称的意思为去掉国家代码和语言代码的名称</strong>)为messages所以只要在classpath路径下编写messages.properties做国际化文件，但是我使用的是在classpath文件下新建了一个i18n文件夹，然后在全局配置文件配置了。这样的话Spring Boot就能通过ResourceBundleMessageSource来管理我的国际化资源文件了。</p>
<p><img src="https://s2.ax1x.com/2019/03/28/Awbaod.jpg" alt="Awbaod.jpg"></p>
<p><img src="https://s2.ax1x.com/2019/03/28/Awb0JI.jpg" alt="Awb0JI.jpg"></p>
<p>2.3、Spring Boot的区域解析器在WebMvcAutoConfiguration类中能找到，只要容器中没有(@ConditionOnMissingBean)就用SpringBoot配置的，进入AcceptHeaderLocaleResolver类</p>
<p><strong>AcceptHeaderLocaleResolver（该类实现了LocaleResolver接口）</strong></p>
<p><strong>–&gt;public Locale resolveLocale(HttpServletRequest request)</strong></p>
<p>resolveLocale()方法里面是通过request获取请求头中的语言，说明Spring Boot默认就是根据浏览器的语言来决定用哪种国际化配置文件的。</p>
<p><img src="https://s2.ax1x.com/2019/03/28/AwbrSP.jpg" alt="AwbrSP.jpg"></p>
<p><img src="https://s2.ax1x.com/2019/03/28/AwbBWt.jpg" alt="AwbBWt.jpg"></p>
<p>2.4、自定义区域处理器并添加到容器中，这样就能根据自己的需求来决定怎么使用国际化</p>
<p><img src="https://s2.ax1x.com/2019/03/28/AwbTyT.jpg" alt="AwbTyT.jpg"></p>
<p><img src="https://s2.ax1x.com/2019/03/28/AwbsQf.jpg" alt="AwbsQf.jpg"></p>
<h3 id="3、使用Thymeleaf获取国际化配置文件中的内容"><a href="#3、使用Thymeleaf获取国际化配置文件中的内容" class="headerlink" title="3、使用Thymeleaf获取国际化配置文件中的内容"></a>3、使用Thymeleaf获取国际化配置文件中的内容</h3><p>#{key}：取到properties配置文件中的值.</p>
<p>eg：#{login.username},这样如果是中文环境就会获得中文配置文件的值，如果是英文就会获得英文配置文件中的值</p>
<p><img src="https://s2.ax1x.com/2019/03/28/AwbRoj.jpg" alt="AwbRoj.jpg"></p>
<p>这是默认的值</p>
<p><img src="https://s2.ax1x.com/2019/03/28/Awb2wQ.jpg" alt="Awb2wQ.jpg"></p>
<h2 id="二、Spring-Boot使用拦截器"><a href="#二、Spring-Boot使用拦截器" class="headerlink" title="二、Spring Boot使用拦截器"></a>二、Spring Boot使用拦截器</h2><p>该篇文件中已经解释了为什么实现WebMvcConfigurer接口就能使SpringBoot读取到我们自定义的配置 <a href="https://zhuanlan.zhihu.com/p/56466149" target="_blank" rel="noopener">文章地址</a></p>
<p>1、先自定义一个拦截器</p>
<p><img src="https://s2.ax1x.com/2019/03/28/Awbgeg.jpg" alt="Awbgeg.jpg"></p>
<p>2、然后在匿名内部类中重写添加拦截器的方法就能达到拦截器的效果了</p>
<p><img src="https://s2.ax1x.com/2019/03/28/Awb7OU.jpg" alt="Awb7OU.jpg"></p>
<h2 id="三、RESTful"><a href="#三、RESTful" class="headerlink" title="三、RESTful"></a>三、RESTful</h2><p>1、之前我们定义的url都是直接在url上定义对应的意思，而现在我们就可以通过请求方式的不同来达到一样的效果，这样的写法明显更好些</p>
<p>URI：  /资源名称/资源标识       HTTP请求方式区分对资源CRUD操作</p>
<table>
<thead>
<tr>
<th></th>
<th>普通CRUD（uri来区分操作）</th>
<th>RestfulCRUD</th>
</tr>
</thead>
<tbody>
<tr>
<td>查询</td>
<td>getEmp</td>
<td>emp—GET</td>
</tr>
<tr>
<td>添加</td>
<td>addEmp?xxx</td>
<td>emp—POST</td>
</tr>
<tr>
<td>修改</td>
<td>updateEmp?id=xxx&amp;xxx=xx</td>
<td>emp/{id}—PUT</td>
</tr>
<tr>
<td>删除</td>
<td>deleteEmp?id=1</td>
<td>emp/{id}—DELETE</td>
</tr>
</tbody>
</table>
<p>2、实验的请求架构;</p>
<table>
<thead>
<tr>
<th>实验功能</th>
<th>请求URI</th>
<th>请求方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>查询所有员工</td>
<td>emps</td>
<td>GET</td>
</tr>
<tr>
<td>查询某个员工(来到修改页面)</td>
<td>emp/1</td>
<td>GET</td>
</tr>
<tr>
<td>来到添加页面</td>
<td>emp</td>
<td>GET</td>
</tr>
<tr>
<td>添加员工</td>
<td>emp</td>
<td>POST</td>
</tr>
<tr>
<td>来到修改页面（查出员工进行信息回显）</td>
<td>emp/1</td>
<td>GET</td>
</tr>
<tr>
<td>修改员工</td>
<td>emp</td>
<td>PUT</td>
</tr>
<tr>
<td>删除员工</td>
<td>emp/1</td>
<td>DELETE</td>
</tr>
</tbody>
</table>
<p><strong>3、前端页面一般只支持POST,GET请求，怎么进行PUT,DELETE请求呢</strong></p>
<p><strong>3.1、配置HiddenHttpMethodFilter（Spring Boot已经帮我们配置了）</strong></p>
<p><img src="https://s2.ax1x.com/2019/03/28/Awb4Wq.jpg" alt="Awb4Wq.jpg"></p>
<p><strong>3.2、必须是POST请求</strong></p>
<p><strong>3.3、需要有一个input请求参数，name=”_method” value=”你需要的请求方式”</strong></p>
<h2 id="四、Thymeleaf使用"><a href="#四、Thymeleaf使用" class="headerlink" title="四、Thymeleaf使用"></a>四、Thymeleaf使用</h2><h3 id="1、引入thymeleaf；"><a href="#1、引入thymeleaf；" class="headerlink" title="1、引入thymeleaf；"></a>1、引入thymeleaf；</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          	2.1.6</span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">切换thymeleaf版本</span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">thymeleaf.version</span>&gt;</span>3.0.9.RELEASE<span class="tag">&lt;/<span class="name">thymeleaf.version</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 布局功能的支持程序  thymeleaf3主程序  layout2以上版本 --&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- thymeleaf2   layout1--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">thymeleaf-layout-dialect.version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">thymeleaf-layout-dialect.version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2、Thymeleaf使用"><a href="#2、Thymeleaf使用" class="headerlink" title="2、Thymeleaf使用"></a>2、Thymeleaf使用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"spring.thymeleaf"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThymeleafProperties</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Charset DEFAULT_ENCODING = Charset.forName(<span class="string">"UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> MimeType DEFAULT_CONTENT_TYPE = MimeType.valueOf(<span class="string">"text/html"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String DEFAULT_PREFIX = <span class="string">"classpath:/templates/"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String DEFAULT_SUFFIX = <span class="string">".html"</span>;</span><br><span class="line">  	<span class="comment">//</span></span><br></pre></td></tr></table></figure>
<p>只要我们把HTML页面放在classpath:/templates/，thymeleaf就能自动渲染；</p>
<p>使用：</p>
<p>1、导入thymeleaf的名称空间</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2、使用thymeleaf语法；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>成功！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--th:text 将div里面的文本内容设置为 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">"$&#123;hello&#125;"</span>&gt;</span>这是显示欢迎信息<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="3、语法规则"><a href="#3、语法规则" class="headerlink" title="3、语法规则"></a>3、语法规则</h3><p>1）、th:text；改变当前元素里面的文本内容；</p>
<p>​    th：任意html属性；来替换原生属性的值</p>
<p><img src="https://s2.ax1x.com/2019/05/21/VSPoSe.png" alt="VSPoSe.png"></p>
<p>2）、表达式？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">Simple expressions:（表达式语法）</span><br><span class="line">    Variable Expressions: $&#123;...&#125;：获取变量值；OGNL；</span><br><span class="line">    		1）、获取对象的属性、调用方法</span><br><span class="line">    		2）、使用内置的基本对象：</span><br><span class="line">    			#ctx : the context object.</span><br><span class="line">    			#vars: the context variables.</span><br><span class="line">                #locale : the context locale.</span><br><span class="line">                #request : (only in Web Contexts) the HttpServletRequest object.</span><br><span class="line">                #response : (only in Web Contexts) the HttpServletResponse object.</span><br><span class="line">                #session : (only in Web Contexts) the HttpSession object.</span><br><span class="line">                #servletContext : (only in Web Contexts) the ServletContext object.</span><br><span class="line">                </span><br><span class="line">                $&#123;session.foo&#125;</span><br><span class="line">            3）、内置的一些工具对象：</span><br><span class="line">#execInfo : information about the template being processed.</span><br><span class="line">#messages : methods for obtaining externalized messages inside variables expressions, in the same way as they would be obtained using #&#123;…&#125; syntax.</span><br><span class="line">#uris : methods for escaping parts of URLs/URIs</span><br><span class="line">#conversions : methods for executing the configured conversion service (if any).</span><br><span class="line">#dates : methods for java.util.Date objects: formatting, component extraction, etc.</span><br><span class="line">#calendars : analogous to #dates , but for java.util.Calendar objects.</span><br><span class="line">#numbers : methods for formatting numeric objects.</span><br><span class="line">#strings : methods for String objects: contains, startsWith, prepending/appending, etc.</span><br><span class="line">#objects : methods for objects in general.</span><br><span class="line">#bools : methods for boolean evaluation.</span><br><span class="line">#arrays : methods for arrays.</span><br><span class="line">#lists : methods for lists.</span><br><span class="line">#sets : methods for sets.</span><br><span class="line">#maps : methods for maps.</span><br><span class="line">#aggregates : methods for creating aggregates on arrays or collections.</span><br><span class="line">#ids : methods for dealing with id attributes that might be repeated (for example, as a result of an iteration).</span><br><span class="line"></span><br><span class="line">    Selection Variable Expressions: *&#123;...&#125;：选择表达式：和$&#123;&#125;在功能上是一样；</span><br><span class="line">    	补充：配合 th:object=&quot;$&#123;session.user&#125;：</span><br><span class="line">   &lt;div th:object=&quot;$&#123;session.user&#125;&quot;&gt;</span><br><span class="line">    &lt;p&gt;Name: &lt;span th:text=&quot;*&#123;firstName&#125;&quot;&gt;Sebastian&lt;/span&gt;.&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;Surname: &lt;span th:text=&quot;*&#123;lastName&#125;&quot;&gt;Pepper&lt;/span&gt;.&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;Nationality: &lt;span th:text=&quot;*&#123;nationality&#125;&quot;&gt;Saturn&lt;/span&gt;.&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    </span><br><span class="line">    Message Expressions: #&#123;...&#125;：获取国际化内容</span><br><span class="line">    Link URL Expressions: @&#123;...&#125;：定义URL；</span><br><span class="line">    		@&#123;/order/process(execId=$&#123;execId&#125;,execType=&apos;FAST&apos;)&#125;</span><br><span class="line">    Fragment Expressions: ~&#123;...&#125;：片段引用表达式</span><br><span class="line">    		&lt;div th:insert=&quot;~&#123;commons :: main&#125;&quot;&gt;...&lt;/div&gt;</span><br><span class="line">    		</span><br><span class="line">Literals（字面量）</span><br><span class="line">      Text literals: &apos;one text&apos; , &apos;Another one!&apos; ,…</span><br><span class="line">      Number literals: 0 , 34 , 3.0 , 12.3 ,…</span><br><span class="line">      Boolean literals: true , false</span><br><span class="line">      Null literal: null</span><br><span class="line">      Literal tokens: one , sometext , main ,…</span><br><span class="line">Text operations:（文本操作）</span><br><span class="line">    String concatenation: +</span><br><span class="line">    Literal substitutions: |The name is $&#123;name&#125;|</span><br><span class="line">Arithmetic operations:（数学运算）</span><br><span class="line">    Binary operators: + , - , * , / , %</span><br><span class="line">    Minus sign (unary operator): -</span><br><span class="line">Boolean operations:（布尔运算）</span><br><span class="line">    Binary operators: and , or</span><br><span class="line">    Boolean negation (unary operator): ! , not</span><br><span class="line">Comparisons and equality:（比较运算）</span><br><span class="line">    Comparators: &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le )</span><br><span class="line">    Equality operators: == , != ( eq , ne )</span><br><span class="line">Conditional operators:条件运算（三元运算符）</span><br><span class="line">    If-then: (if) ? (then)</span><br><span class="line">    If-then-else: (if) ? (then) : (else)</span><br><span class="line">    Default: (value) ?: (defaultvalue)</span><br><span class="line">Special tokens:</span><br><span class="line">    No-Operation: _</span><br></pre></td></tr></table></figure>
<h3 id="4、Thymeleaf中公共页抽取"><a href="#4、Thymeleaf中公共页抽取" class="headerlink" title="4、Thymeleaf中公共页抽取"></a>4、Thymeleaf中公共页抽取</h3><p><strong>1、抽取公共片段</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:fragment</span>=<span class="string">"copy"</span>&gt;</span></span><br><span class="line">&amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>2、引入公共片段</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"~&#123;footer :: copy&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>~{templatename::selector}：模板名(文件名)::选择器</strong></p>
<p><strong>~{templatename::fragmentname}:模板名(文件名)::片段名</strong></p>
<p><strong>3、默认效果：</strong></p>
<p><strong>insert的公共片段在div标签中</strong></p>
<p><strong>如果使用th:insert等属性进行引入，可以不用写~{}：</strong></p>
<p><strong>行内写法可以加上：[[~{}]];[(~{})]；</strong></p>
<p><strong>有三种方式可以引入</strong></p>
<p><strong>1、th:insert：把片段整个插入到div中，包括根元素</strong></p>
<p><strong>2、th:replace：把片段整个替换掉这个div，包括根元素(使用最多的)</strong></p>
<p><strong>3、th:include：把片段内的内容插入到该div中，不包括根元素</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">th:fragment</span>=<span class="string">"copy"</span>&gt;</span></span><br><span class="line">&amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">引入方式</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"footer :: copy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"footer :: copy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:include</span>=<span class="string">"footer :: copy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">效果</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    &amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">&amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">&amp;copy; 2011 The Good Thymes Virtual Grocery</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>通过th:replace引入的方式还可以传参数过去，片段通过${activeUrl}可以取到参数值</p>
<p><img src="https://s2.ax1x.com/2019/03/28/AwbIS0.jpg" alt="AwbIS0.jpg"></p>
<h2 id="小知识点："><a href="#小知识点：" class="headerlink" title="小知识点："></a>小知识点：</h2><p><strong>1、Thymeleaf里面可以通过#strings.isEmpty()判断是否为空</strong></p>
<p><strong>2、#dates.format(xxx,pattern)解决时间格式问题</strong></p>
<p><strong>3、通过th:attr可以达到使用Thymeleaf的语法来设置前端页面中的属性</strong></p>
<p><strong>th:attr=”属性值=thymeleaf语法”，多个中间使用逗号隔开</strong></p>
<p><img src="https://s2.ax1x.com/2019/03/28/AwbolV.jpg" alt="AwbolV.jpg"></p>
<p><strong>4、#Spring Boot默认转换的时间格式为yyyy/MM/dd，可通过下面的配置修改</strong></p>
<p><strong>spring.mvc.date-format</strong>=<strong>yyyy-MM-dd</strong></p>
<p>给自己加油打气：一定要坚持下去，不需要太努力，正常的学习，坚持就行了，加油！</p>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2019年05月21日 16:25</p>
        <p>原始链接： <a class="post-url" href="/2019/03/28/2019-03-28-SpringBoot学习04_例子总结/" title="Spring Boot学习04_CRUD总结">http://yoursite.com/2019/03/28/2019-03-28-SpringBoot学习04_例子总结/</a></p>
        <footer>
            <a href="http://yoursite.com">
                <img src="/images/logo.png" alt="Yang">
                Yang
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        请我喝可口可乐~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2019/03/28/2019-03-28-SpringBoot学习04_例子总结/&title=《Spring Boot学习04_CRUD总结》 — Yang&pic=http://yoursite.comimages/logo.png" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2019/03/28/2019-03-28-SpringBoot学习04_例子总结/&title=《Spring Boot学习04_CRUD总结》 — Yang&source=" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/03/28/2019-03-28-SpringBoot学习04_例子总结/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Spring Boot学习04_CRUD总结》 — Yang&url=http://yoursite.com/2019/03/28/2019-03-28-SpringBoot学习04_例子总结/&via=http://yoursite.com" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2019/03/28/2019-03-28-SpringBoot学习04_例子总结/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://yoursite.com/2019/03/28/2019-03-28-SpringBoot学习04_例子总结/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/SpringBoot/" class="color1">SpringBoot</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#一、Spring-Boot的国际化"><span class="post-toc-text">一、Spring Boot的国际化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、在SpringMVC中做国际化"><span class="post-toc-text">1、在SpringMVC中做国际化</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2、SpringBoot做国际化"><span class="post-toc-text">2、SpringBoot做国际化</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3、使用Thymeleaf获取国际化配置文件中的内容"><span class="post-toc-text">3、使用Thymeleaf获取国际化配置文件中的内容</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#二、Spring-Boot使用拦截器"><span class="post-toc-text">二、Spring Boot使用拦截器</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#三、RESTful"><span class="post-toc-text">三、RESTful</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#四、Thymeleaf使用"><span class="post-toc-text">四、Thymeleaf使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、引入thymeleaf；"><span class="post-toc-text">1、引入thymeleaf；</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2、Thymeleaf使用"><span class="post-toc-text">2、Thymeleaf使用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3、语法规则"><span class="post-toc-text">3、语法规则</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4、Thymeleaf中公共页抽取"><span class="post-toc-text">4、Thymeleaf中公共页抽取</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#小知识点："><span class="post-toc-text">小知识点：</span></a></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2019/03/28/2019-03-28-SpringBoot学习04_自适应定制错误数据原理/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          Spring Boot学习04_自适应定制错误数据原理
        
      </span>
    </a>
  
  
    <a href="/2019/03/28/2019-03-28-SpringBoot学习04_SpringMVC自动配置原理/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">Spring Boot学习04_Spring MVC自动配置原理</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style="display:none">
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style="display:none">
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2019 Yang<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "http://yoursite.com",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/SpringBoot/">SpringBoot</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Linux/" style="font-size: 18px;">Linux</a> <a href="/tags/SpringBoot/" style="font-size: 20px;">SpringBoot</a> <a href="/tags/代码的艺术/" style="font-size: 12px;">代码的艺术</a> <a href="/tags/并发/" style="font-size: 16px;">并发</a> <a href="/tags/随笔/" style="font-size: 14px;">随笔</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Linux/" style="font-size: 18px;">Linux</a> <a href="/tags/SpringBoot/" style="font-size: 20px;">SpringBoot</a> <a href="/tags/代码的艺术/" style="font-size: 12px;">代码的艺术</a> <a href="/tags/并发/" style="font-size: 16px;">并发</a> <a href="/tags/随笔/" style="font-size: 14px;">随笔</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>







  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>


  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>