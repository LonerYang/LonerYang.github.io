<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Spring Boot学习08_常用缓存注解使用 | Yang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="Yang,Yang's Blog">
  
  <meta name="description" content="一、JSR107Java Caching定义了5个核心接口，分别是CachingProvider, CacheManager, Cache, Entry 和 Expiry。 •CachingProvider定义了创建、配置、获取、管理和控制多个CacheManager。一个应用可以在运行期访问多个CachingProvider。 •CacheManager定义了创建、配置、获取、管理和控制多个唯一">
<meta name="keywords" content="SpringBoot">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot学习08_常用缓存注解使用">
<meta property="og:url" content="http://yoursite.com/2019/04/05/2019-04-05-SpringBoot学习08_常用缓存注解使用/index.html">
<meta property="og:site_name" content="Yang">
<meta property="og:description" content="一、JSR107Java Caching定义了5个核心接口，分别是CachingProvider, CacheManager, Cache, Entry 和 Expiry。 •CachingProvider定义了创建、配置、获取、管理和控制多个CacheManager。一个应用可以在运行期访问多个CachingProvider。 •CacheManager定义了创建、配置、获取、管理和控制多个唯一">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://s2.ax1x.com/2019/04/03/AgMQTs.md.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/04/03/AgMRne.md.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/04/03/Ag1d0g.md.png">
<meta property="og:updated_time" content="2019-04-04T16:32:12.252Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring Boot学习08_常用缓存注解使用">
<meta name="twitter:description" content="一、JSR107Java Caching定义了5个核心接口，分别是CachingProvider, CacheManager, Cache, Entry 和 Expiry。 •CachingProvider定义了创建、配置、获取、管理和控制多个CacheManager。一个应用可以在运行期访问多个CachingProvider。 •CacheManager定义了创建、配置、获取、管理和控制多个唯一">
<meta name="twitter:image" content="https://s2.ax1x.com/2019/04/03/AgMQTs.md.png">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>
</html>
<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">Yang&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        Yang&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        一个专注 Java 开发的技术博客
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="Yang" target="_blank" href="//yangrijian.top">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/loneryang">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="Weibo" target="_blank" href="//weibo.com/printf杨氏子">
                            <i class="fa fa-weibo fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-2019-04-05-SpringBoot学习08_常用缓存注解使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      Spring Boot学习08_常用缓存注解使用
    </h1>
    <div class="post-title-bar">
      <ul>
          
        <li>
          <i class="fa fa-calendar"></i>  2019-04-05
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <h2 id="一、JSR107"><a href="#一、JSR107" class="headerlink" title="一、JSR107"></a>一、JSR107</h2><p>Java Caching定义了5个核心接口，分别是<strong>CachingProvider</strong>, <strong>CacheManager</strong>, <strong>Cache</strong>, <strong>Entry</strong> 和 <strong>Expiry</strong>。</p>
<p>•<strong>CachingProvider</strong>定义了创建、配置、获取、管理和控制多个<strong>CacheManager</strong>。一个应用可以在运行期访问多个CachingProvider。</p>
<p>•<strong>CacheManager</strong>定义了创建、配置、获取、管理和控制多个唯一命名的<strong>Cache</strong>，这些Cache存在于CacheManager的上下文中。一个CacheManager仅被一个CachingProvider所拥有。</p>
<p>•<strong>Cache</strong>是一个类似Map的数据结构并临时存储以Key为索引的值。一个Cache仅被一个CacheManager所拥有。</p>
<p>•<strong>Entry</strong>是一个存储在Cache中的key-value对。</p>
<p>•<strong>Expiry</strong> 每一个存储在Cache中的条目有一个定义的有效期。一旦超过这个时间，条目为过期的状态。一旦过期，条目将不可访问、更新和删除。缓存有效期可以通过ExpiryPolicy设置。</p>
<p><img src="https://s2.ax1x.com/2019/04/03/AgMQTs.md.png" alt="AgMQTs.md.png"></p>
<h2 id="二、Spring缓存抽象"><a href="#二、Spring缓存抽象" class="headerlink" title="二、Spring缓存抽象"></a>二、Spring缓存抽象</h2><p>Spring从3.1开始定义了org.springframework.cache.Cache</p>
<p>和org.springframework.cache.CacheManager接口来统一不同的缓存技术；</p>
<p>并支持使用JCache（JSR-107）注解简化我们开发；</p>
<p>•Cache接口为缓存的组件规范定义，包含缓存的各种操作集合；</p>
<p>•Cache接口下Spring提供了各种xxxCache的实现；如RedisCache，EhCacheCache , ConcurrentMapCache等；</p>
<p>• 每次调用需要缓存功能的方法时，Spring会检查检查指定参数的指定的目标方法是否已经被调用过；如果有就直 </p>
<p>   接从缓存中获取方法调用后的结果，如果没有就调用方法并缓存结果后返回给用户。下次调用直接从缓存中获取          </p>
<p>• 使用Spring缓存抽象时我们需要关注以下两点；</p>
<p>1、确定方法需要被缓存以及他们的缓存策略</p>
<p>2、从缓存中读取之前缓存存储的数据</p>
<p><img src="https://s2.ax1x.com/2019/04/03/AgMRne.md.png" alt="AgMRne.md.png">r.com/i/AgMRne)</p>
<h2 id="三、几个重要概念-amp-缓存注解"><a href="#三、几个重要概念-amp-缓存注解" class="headerlink" title="三、几个重要概念&amp;缓存注解"></a>三、几个重要概念&amp;缓存注解</h2><table>
<thead>
<tr>
<th><strong>Cache</strong></th>
<th><strong>缓存接口，定义缓存操作。实现有：</strong>RedisCache、EhCacheCache、ConcurrentMapCache等</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>CacheManager</strong></td>
<td><strong>缓存管理器，管理各种缓存（Cache）组件</strong></td>
</tr>
<tr>
<td><strong>@Cacheable</strong></td>
<td><strong>主要针对方法配置，能够根据方法的请求参数对其结果进行缓存</strong></td>
</tr>
<tr>
<td><strong>@CacheEvict</strong></td>
<td><strong>清空缓存</strong></td>
</tr>
<tr>
<td><strong>@CachePut</strong></td>
<td><strong>保证方法被调用，又希望结果被缓存。</strong></td>
</tr>
<tr>
<td><strong>@EnableCaching</strong></td>
<td><strong>开启基于注解的缓存</strong></td>
</tr>
<tr>
<td><strong>keyGenerator</strong></td>
<td><strong>缓存数据时key生成策略</strong></td>
</tr>
<tr>
<td><strong>serialize</strong></td>
<td><strong>缓存数据时value序列化策略</strong></td>
</tr>
</tbody>
</table>
<h2 id="四、Demo"><a href="#四、Demo" class="headerlink" title="四、Demo"></a>四、Demo</h2><p>使用Springboot+Mybatis搭建环境</p>
<ul>
<li><p>全局配置文件application.properties</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">spring.datasource.url=jdbc:mysql://localhost:3306/spring_cache?serverTimezone=UTC</span><br><span class="line">spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</span><br><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=password</span><br><span class="line">mybatis.configuration.map-underscore-to-camel-case=true</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建spring_cache数据库，并创建employee表和department表</p>
</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/04/03/Ag1d0g.md.png" alt="Ag1d0g.md.png"></p>
<ul>
<li>创建对应的Bean、Mapper</li>
</ul>
<p>Employee.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> Integer id;</span><br><span class="line">	<span class="keyword">private</span> String lastName;</span><br><span class="line">	<span class="keyword">private</span> String email;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 性别 1男  0女</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> Integer gender;</span><br><span class="line">	<span class="keyword">private</span> Integer dId;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Department.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Department</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> Integer id;</span><br><span class="line">	<span class="keyword">private</span> String departmentName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>EmployeeMapper.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeMapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 增加员工</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> employee</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Insert</span>(<span class="string">"INSERT INTO employee (lastName, email, gender, d_id) VALUES(#&#123;lastName&#125;, #&#123;email&#125;, #&#123;gender&#125;, #&#123;dId&#125;)"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insertEmployee</span><span class="params">(Employee employee)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id删除员工</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Delete</span>(<span class="string">"DELETE FROM employee WHERE id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteEmployeeById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id修改员工</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> employee</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Update</span>(<span class="string">"UPDATE employee SET lastName = #&#123;lastName&#125;, email = #&#123;email&#125;, gender = #&#123;gender&#125;, d_id = #&#123;dId&#125; WHERE id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateEmployeeById</span><span class="params">(Employee employee)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id查询员工</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT * FROM employee WHERE id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function">Employee <span class="title">selectEmployeeById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据lastName查询员工</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> lastName</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT * FROM employee WHERE lastName = #&#123;lastName&#125;"</span>)</span><br><span class="line">    <span class="function">Employee <span class="title">selectEmployeeByLastName</span><span class="params">(String lastName)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Department.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Yang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 2019/4/1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">DepartmentMapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id查询部门表</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"SELECT * FROM department WHERE id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function">Department <span class="title">selectDepartmentById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>SpringBoot主程序类Springboot09CacheApplication.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"com.ahead.springboot.mapper"</span>)</span><br><span class="line"><span class="meta">@EnableCaching</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Springboot09CacheApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(Springboot09CacheApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1、-Cacheable"><a href="#1、-Cacheable" class="headerlink" title="1、@Cacheable"></a>1、@Cacheable</h3><p><strong>CacheManager管理多个Cache组件的，对缓存的真正CRUD操作在Cache组件中，每一个缓存组件有自己唯一一个名字</strong></p>
<ul>
<li><p>cacheNames/value: 指定缓存组件的名字（缓存到哪个缓存组件中）</p>
</li>
<li><p>key：缓存数据使用的key；可以用它来指定。默认是使用方法参数的值， 1-方法的返回值</p>
<p>编写SpEl；#id;参数id的值  #a0  #p0     #root.args[0]</p>
</li>
<li><p>keyGenerator：key的生成器；可以自己指定key的生成器的组件id(可以自定义一个KeyGenerator，然后注册到容器中)（下一篇运行流程原理会测试）</p>
<p>key/keyGenerator：二选一使用</p>
</li>
<li><p>cacheManager：指定缓存管理器；或者cacheResolver指定获取解析器（后面单独有一篇写这个的）</p>
</li>
<li><p>condition：指定符合条件的情况下才缓存</p>
<p>condition = “#id &gt; 1” ：id大于1才进行缓存</p>
</li>
<li><p>unless：否定缓存/排除条件；当unless指定的条件为true，方法的返回值就不会被缓存；可以获取到结果并进行判断</p>
<p>unless = “#result == null”</p>
<p>unless = “#id == 2” : id等于2就不缓存（如果满足condition也满足unless，以unless的为准）</p>
</li>
<li><p>sync：是否同步；在多线程环境下，某些操作可能使用相同参数同步调用。</p>
<p>默认情况下（默认不同步，也就是异步），缓存不锁定任何资源，可能导致多次计算，而违反了缓存的目的。</p>
<p>对于这些特定的情况，属性 sync 可以指示底层将缓存锁住，使只有一个线程可以进入计算，而其他线程堵塞，</p>
<p>直到返回结果更新到缓存中。</p>
<p><strong>在上面属性中有些属性是能通过SpEl表达式获取的</strong></p>
<p>| <strong>名字</strong>        | <strong>位置</strong>           | <strong>描述</strong>                                                     | <strong>示例</strong>             |<br>| ————— | —————— | ———————————————————— | ——————– |<br>| methodName      | root object        | 当前被调用的方法名                                           | #root.methodName     |<br>| method          | root object        | 当前被调用的方法                                             | #root.method.name    |<br>| target          | root object        | 当前被调用的目标对象                                         | #root.target         |<br>| targetClass     | root object        | 当前被调用的目标对象类                                       | #root.targetClass    |<br>| args            | root object        | 当前被调用的方法的参数列表                                   | #root.args[0]        |<br>| caches          | root object        | 当前方法调用使用的缓存列表（如@Cacheable(value={“cache1”,   “cache2”})），则有两个cache | #root.caches[0].name |<br>| <em>argument name</em> | evaluation context | 方法参数的名字. 可以直接 #参数名 ，也可以使用 #p0或#a0 的形式，0代表参数的索引； | #iban 、 #a0 、  #p0 |<br>| result          | evaluation context | 方法执行后的返回值（仅当方法执行之后的判断有效，如‘unless’，’cache put’的表达式 ’cache evict’的表达式beforeInvocation=false） | #result              |</p>
</li>
</ul>
<p>1.1、EmployeeService.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Cacheable</span>(cacheNames = &#123;<span class="string">"emp"</span>&#125;)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Employee <span class="title">getEmployeeById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">       System.out.println(id + <span class="string">"号员工被查询"</span>);</span><br><span class="line">       Employee employee = employeeMapper.selectEmployeeById(id);</span><br><span class="line">       <span class="keyword">return</span> employee;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>1.2、EmployeeController.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">   <span class="keyword">private</span> EmployeeService employeeService;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@GetMapping</span>(<span class="string">"/emp/&#123;id&#125;"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Employee <span class="title">getEmployeeById</span><span class="params">(@PathVariable Integer id)</span> </span>&#123;</span><br><span class="line">       Employee employee = employeeService.getEmployeeById(id);</span><br><span class="line">       <span class="keyword">return</span> employee;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>1.3、访问<a href="http://localhost:8080/emp/1测试" target="_blank" rel="noopener">http://localhost:8080/emp/1测试</a></p>
<p>​    结果：第一遍显示查询SQL语句<code>并打印1号员工被查询</code>，第二次请求没有</p>
<p>​        其他的属性可以自行测试</p>
<h3 id="2、-CachePut"><a href="#2、-CachePut" class="headerlink" title="2、@CachePut"></a>2、@CachePut</h3><pre><code>运行流程：
</code></pre><ul>
<li>先调用目标方法（目标方法一定会被执行）</li>
<li>将方法的返回值存到缓存中</li>
</ul>
<p>2.1、EmploeeService.java</p>
<p> <strong>@Cacheable不能使用#result，因为它是先根据key查询缓存再执行目标方法（详细见运行流程那一篇），目标方法都没执行就要使用key，没有#result</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 如果与查询方法所用的key不一致，导致缓存中有两份数据</span></span><br><span class="line"><span class="comment">    * 防止上述问题发生：</span></span><br><span class="line"><span class="comment">    * 指定一致的key</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@CachePut</span>(cacheNames = &#123;<span class="string">"emp"</span>&#125;, key = <span class="string">"#result.id"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Employee <span class="title">modifyEmployeeById</span><span class="params">(Employee employee)</span> </span>&#123;</span><br><span class="line">       System.out.println(employee.getId() + <span class="string">"号员工被修改!"</span>);</span><br><span class="line">       employeeMapper.updateEmployeeById(employee);</span><br><span class="line">       <span class="keyword">return</span> employee;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>2.2、EmploeeController.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/emp"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Employee <span class="title">modifyEmployeeById</span><span class="params">(Employee employee)</span> </span>&#123;</span><br><span class="line">       Employee emp = employeeService.modifyEmployeeById(employee);</span><br><span class="line">       <span class="keyword">return</span> emp;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>结果：修改员工对象后（<a href="http://localhost:8080/emp?id=1&amp;lastName=Yang&amp;gender=0），再查询相同对象（http://localhost:8080/emp/1）控制台不会打印查询SQL语句，**修改后会将方法的返回值存到缓存中*" target="_blank" rel="noopener">http://localhost:8080/emp?id=1&amp;lastName=Yang&amp;gender=0），再查询相同对象（http://localhost:8080/emp/1）控制台不会打印查询SQL语句，**修改后会将方法的返回值存到缓存中*</a>*</p>
<h3 id="3、-CacheEvict"><a href="#3、-CacheEvict" class="headerlink" title="3、@CacheEvict"></a>3、@CacheEvict</h3><p>@CacheEvict删除缓存中的数据</p>
<ul>
<li><p>key：指定要删除的key</p>
</li>
<li><p>allEntries：是否删除该缓存组件中的所有缓存（默认false）</p>
</li>
<li><p>beforeInvocation：是否在目标方法执行之前清除缓存</p>
<p>默认false：在目标方法执行之后清除缓存；如果目标方法执行时出错了就不会清除缓存了</p>
<p>beforeInvocation = true：在目标方法执行之前清除缓存；不管目标方法出错与否都会清除缓存</p>
</li>
</ul>
<p>3.1、EmployeeService.java</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@CacheEvict(cacheNames = &#123;&quot;emp&quot;&#125;, key = &quot;#id&quot;)</span><br><span class="line">   public void removeEmployeeById(Integer id) &#123;</span><br><span class="line">       System.out.println(id + &quot;号员工在缓存中被删除！&quot;);</span><br><span class="line">       //方便测试是否删除缓存中的数据，这里不需要删除数据库中的数据</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>3.2、EmployeeController.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/delemp/&#123;id&#125;"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">removeEmployeeById</span><span class="params">(@PathVariable Integer id)</span> </span>&#123;</span><br><span class="line">       employeeService.removeEmployeeById(id);</span><br><span class="line">       <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<p>1）、查询一号员工(<a href="http://localhost:8080/emp/1)，先使其在缓存中，再删除1号员工(http://localhost:8080/delemp/1)，再查询一号员工(http://localhost:8080/emp/1)，控制台打印了SQL查询语句，缓存中的数据被删除了。" target="_blank" rel="noopener">http://localhost:8080/emp/1)，先使其在缓存中，再删除1号员工(http://localhost:8080/delemp/1)，再查询一号员工(http://localhost:8080/emp/1)，控制台打印了SQL查询语句，缓存中的数据被删除了。</a></p>
<p>2）、beforeInvocation默认为false，在目标方法执行之后清除缓存；如果目标方法执行时出错了就不会清除缓存了这里使其报错，<strong>最终的重复上述访问测试，删除报错，查询时没有发送SQL查询语句，缓存中的数据没有被删除</strong></p>
<p><strong>可以指定beforeInvocation=true；在目标方法执行之前清除缓存；这时候虽然删除报错，但是查询时发送了SQL查询语句，缓存中的数据被删除</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CacheEvict</span>(cacheNames = &#123;<span class="string">"emp"</span>&#125;, key = <span class="string">"#id"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeEmployeeById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span> / <span class="number">0</span>;</span><br><span class="line">    System.out.println(id + <span class="string">"号员工在缓存中被删除！"</span>);</span><br><span class="line">    <span class="comment">//方便测试是否删除缓存中的数据，这里不需要删除数据库中的数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3）、指定allEntries = true，这时候访问会删除该Cache组件中所有的缓存，查询1号和2号员工都发送了SQL查询语句，缓存组件数据被清空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CacheEvict</span>(cacheNames = &#123;<span class="string">"emp"</span>&#125;, key = <span class="string">"#id"</span>, allEntries = <span class="keyword">true</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeEmployeeById</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span> / <span class="number">0</span>;</span><br><span class="line">    System.out.println(id + <span class="string">"号员工在缓存中被删除！"</span>);</span><br><span class="line">    <span class="comment">//方便测试是否删除缓存中的数据，这里不需要删除数据库中的数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4、-Caching"><a href="#4、-Caching" class="headerlink" title="4、@Caching"></a>4、@Caching</h3><p>其属性是缓存注解的集合，因此可以配置复杂的缓存配置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Caching &#123;</span><br><span class="line"></span><br><span class="line">	Cacheable[] cacheable() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">	CachePut[] put() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">	CacheEvict[] evict() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以下面为例，这时候既会以lastName为key缓存数据，也会以id缓存数据，这时候查询(<a href="http://localhost:8080/emp/1)在控制台是不会打印SQL查询语句的" target="_blank" rel="noopener">http://localhost:8080/emp/1)在控制台是不会打印SQL查询语句的</a></p>
<p>EmployeeService.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Caching</span>：配置复杂的缓存配置</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> lastName</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Caching</span>(</span><br><span class="line">        cacheable = &#123;</span><br><span class="line">                <span class="meta">@Cacheable</span>(cacheNames = <span class="string">"emp"</span>, key = <span class="string">"#lastName"</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        put = &#123;</span><br><span class="line">                <span class="meta">@CachePut</span>(cacheNames = <span class="string">"emp"</span>, key = <span class="string">"#result.id"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">   )</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Employee <span class="title">getEmployeeByLastName</span><span class="params">(String lastName)</span> </span>&#123;</span><br><span class="line">       Employee employee = employeeMapper.selectEmployeeByLastName(lastName);</span><br><span class="line">       <span class="keyword">return</span> employee;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>EmployeeController.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/emp/lastname/&#123;lastName&#125;"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Employee <span class="title">getEmployeeByLastName</span><span class="params">(@PathVariable String lastName)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> employeeService.getEmployeeByLastName(lastName);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5、CacheConfig"><a href="#5、CacheConfig" class="headerlink" title="5、CacheConfig"></a>5、CacheConfig</h3><p>标注在类上，抽取每个方法中相同的属性，这里只要定义一次就ok，以cacheNames为例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CacheConfig</span>(cacheNames = <span class="string">"emp"</span>)</span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeService</span> </span>&#123;</span><br></pre></td></tr></table></figure>
            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2019年04月05日 00:32</p>
        <p>原始链接： <a class="post-url" href="/2019/04/05/2019-04-05-SpringBoot学习08_常用缓存注解使用/" title="Spring Boot学习08_常用缓存注解使用">http://yoursite.com/2019/04/05/2019-04-05-SpringBoot学习08_常用缓存注解使用/</a></p>
        <footer>
            <a href="http://yoursite.com">
                <img src="/images/logo.png" alt="Yang">
                Yang
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        请我喝可口可乐~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2019/04/05/2019-04-05-SpringBoot学习08_常用缓存注解使用/&title=《Spring Boot学习08_常用缓存注解使用》 — Yang&pic=http://yoursite.comimages/logo.png" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2019/04/05/2019-04-05-SpringBoot学习08_常用缓存注解使用/&title=《Spring Boot学习08_常用缓存注解使用》 — Yang&source=" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/04/05/2019-04-05-SpringBoot学习08_常用缓存注解使用/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Spring Boot学习08_常用缓存注解使用》 — Yang&url=http://yoursite.com/2019/04/05/2019-04-05-SpringBoot学习08_常用缓存注解使用/&via=http://yoursite.com" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2019/04/05/2019-04-05-SpringBoot学习08_常用缓存注解使用/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://yoursite.com/2019/04/05/2019-04-05-SpringBoot学习08_常用缓存注解使用/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/SpringBoot/" class="color1">SpringBoot</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#一、JSR107"><span class="post-toc-text">一、JSR107</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#二、Spring缓存抽象"><span class="post-toc-text">二、Spring缓存抽象</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#三、几个重要概念-amp-缓存注解"><span class="post-toc-text">三、几个重要概念&amp;缓存注解</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#四、Demo"><span class="post-toc-text">四、Demo</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、-Cacheable"><span class="post-toc-text">1、@Cacheable</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2、-CachePut"><span class="post-toc-text">2、@CachePut</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3、-CacheEvict"><span class="post-toc-text">3、@CacheEvict</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4、-Caching"><span class="post-toc-text">4、@Caching</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5、CacheConfig"><span class="post-toc-text">5、CacheConfig</span></a></li></ol></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2019/04/05/2019-04-05-SpringBoot学习08_缓存运行流程/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          Spring Boot学习08_缓存工作原理
        
      </span>
    </a>
  
  
    <a href="/2019/04/05/2019-04-05-SpringBoot学习07_自定义starter/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">Spring Boot学习07_自定义starter</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style="display:none">
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style="display:none">
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2019 Yang<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "http://yoursite.com",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/SpringBoot/">SpringBoot</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Linux/" style="font-size: 18px;">Linux</a> <a href="/tags/SpringBoot/" style="font-size: 20px;">SpringBoot</a> <a href="/tags/代码的艺术/" style="font-size: 12px;">代码的艺术</a> <a href="/tags/并发/" style="font-size: 16px;">并发</a> <a href="/tags/随笔/" style="font-size: 14px;">随笔</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Linux/" style="font-size: 18px;">Linux</a> <a href="/tags/SpringBoot/" style="font-size: 20px;">SpringBoot</a> <a href="/tags/代码的艺术/" style="font-size: 12px;">代码的艺术</a> <a href="/tags/并发/" style="font-size: 16px;">并发</a> <a href="/tags/随笔/" style="font-size: 14px;">随笔</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>







  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>


  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>